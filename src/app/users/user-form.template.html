<h3>{{title}}</h3>
<div class="col-md-6 col-lg-6 well">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <fieldset>
            <legend>User</legend>
            <div class="form-group" [ngClass]="{'has-error': (form.controls.userName.touched 
                                    && form.controls.userName.errors),
                        'has-success': (form.controls.userName.touched 
                                    && !form.controls.userName.errors)}">
                <label for="userName" class="control-label">Name</label>
                <input type="text" class="form-control" 
                    id="userName" 
                    placeholder="Entry the user name (required)" 
                    formControlName="userName">
                <div class="alert alert-danger" 
                    [hidden]="!(form.controls.userName.touched 
                         && form.controls.userName.errors)">
                    <p [hidden]="!form.controls.userName.errors?.required">
                        User name is required
                    </p>
                </div>
            </div>
            <div class="form-group" 
                [ngClass]="{'has-error': (form.controls.email.touched 
                                    && form.controls.email.errors),
                        'has-success': (form.controls.email.touched 
                                    && !form.controls.email.errors)}">
                <label for="email" 
                    class="control-label">Email</label>
                <input type="text" 
                    class="form-control" id="email" 
                    placeholder="Entry an email (required)" 
                    formControlName="email">
                <div class="alert alert-danger" 
                    [hidden]="!(form.controls.email.touched 
                         && form.controls.email.errors)">
                    <p [hidden]="!form.controls.email.errors?.invalid">
                        Should be a valid email
                    </p>
                    <p [hidden]="!form.controls.email.errors?.required">
                        Email is required
                    </p>
                </div>
            </div>
            <div class="form-group">
                <label for="phone" 
                    class="control-label">Phone
                </label>
                <input type="text" 
                    class="form-control" 
                    id="phone"
                    formControlName="phone">
            </div>
        </fieldset>
        <fieldset formGroupName="address">
            <legend>Address</legend>
            <div class="form-group">
                <label for="street" class="control-label">Street</label>
                <input type="text" class="form-control" id="street" formControlName="street">
            </div>
            <div class="form-group">
                <label for="suite" class="control-label">Suite</label>
                <input type="text" class="form-control" id="suite" formControlName="suite">
            </div>
            <div class="form-group">
                <label for="city" class="control-label">City</label>
                <input type="text" class="form-control" id="city" name="user.address.city" formControlName="city">
            </div>
            <div class="form-group">
                <label for="zipcode" class="control-label">Zip Code</label>
                <input type="text" class="form-control" id="zipcode" formControlName="zipcode">
            </div>
        </fieldset>
        <button class="btn btn-primary" type="submit" [disabled]="!form.valid">
            Save
        </button>
    </form>
</div>